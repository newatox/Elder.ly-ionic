<ion-header>
  <ion-navbar>
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>{{'CONTACTS_PAGE_NAME' | translate}}</ion-title>
    <ion-buttons end>
      <button ion-button icon-only (click)="openAddEdit()">
        <ion-icon name="add"></ion-icon>
      </button>
    </ion-buttons>
  </ion-navbar>
  <ion-toolbar *ngIf="!(tabRef.getSelected()==tabFrq || (contacts.length==0 && tabRef.getSelected()==tabAll))">
    <ion-searchbar [(ngModel)]="searchBarInput" (ionInput)="doSearch($event)" placeholder="{{'SEARCH_PLACEHOLDER' | translate}}"></ion-searchbar>
  </ion-toolbar>
</ion-header>

<ion-content>
  <h2 *ngIf="favorites.length==0 && tabRef.getSelected()==tabFav">TODO: design avec image de l'ajout de favoris dans détails (ou autre)</h2>
  <div *ngIf="contacts.length==0 && tabRef.getSelected()==tabAll" class="zero-contacts">
    <strong class="text">{{'ADD_FIRST_CONTACT_MESSAGE' | translate}}</strong>
    <img src="assets/imgs/arrow.png" class="arrow-image"/>
  </div>
  <h2 *ngIf="frequents.length==0 && tabRef.getSelected()==tabFrq">TODO: pas de contacts fréquents: informer</h2>
  <ion-list class="mylist">
    <ion-item class="card" *ngFor="let contact of displayedList" (click)="navigateToDetails(contact);false">
        <ion-avatar item-start>
          <img src="{{contact.gravatar}}">
        </ion-avatar>
        <h2>{{contact.firstName}} {{contact.lastName}}</h2>
        <button ion-button round outline small item-right color="secondary" (click)="callContact(contact.phone)">{{'CALL_ACTION' | translate}}</button>
    </ion-item>
  </ion-list>
</ion-content>

<ion-footer>
  <ion-toolbar>
  <ion-tabs #tabbar tabs-only selectedIndex="1" color="purple-dark">
    <ion-tab #fav (ionSelect)="displayFavorites()" tabTitle={{favoriteContactsTabName}} tabIcon="star" [root]="root"></ion-tab>
    <ion-tab #all (ionSelect)="displayAllContacts()" tabTitle={{allContactsTabName}} tabIcon="people" [root]="root" tabBadgeStyle="dark"></ion-tab>
    <ion-tab #frq (ionSelect)="displayFrequent()" tabTitle={{frequentContactsTabName}} tabIcon="time" [root]="root"></ion-tab>
  </ion-tabs>
  </ion-toolbar>
</ion-footer>


